robj:redis对象
    作用
        redis中用robj结构包装了底层的数据结构，对外提供5种基本类型给外部使用
        可以根据robj的类型来判断是否可以执行某一个redis命令
        可以根据使用场景来设置不同的底层结构，达到对不同场景的效率优化
        利用引用计数提供了对象共享机制，使不同键可以使用同一个robj
        利用robj的字段来参与内存淘汰机制的计算

    组成
        type：redis对象对应的redis高级类型，type指令可以查看
        encoding：redis对象的底层结构，object encoding指令
        lru
            对于LRU算法，记录对象的最后访问时间。当打开maxmemory选项，且回收算法选择volatile-lru或allkeys-lru，redis会优选选择空转时间最长的对象释放。object idletime
            对于LFU算法，低8位记录访问频率，高16位记录对象访问的时间。采用对数计数器记录频率，采用分钟时间戳对2^16取模记录时间。object freq

        refcount：引用计数器，记录该值被多少键共用。object refcount
        ptr：用指针模拟多态，存储任何类型的对象。


string:字符串
    作用及特点
        redis中最常用的类型，存储kv格式数据，简单方便，可以作为缓存，计数器，限流等
        redis约定字符串最大不能超过512M

    实现方式
        int
            字符串长度小于等于20
            可以被转换成int类型

        embstr
            长度小于等于44字节，使用jemalloc内存分配
            因为长度短，分配内存时robj和sds是连续的，所以分配时和删除时只需要做一次操作
            寻找速度快
            修改时会转换为raw

        raw
            长度大于44字节的字符串



list:列表
    作用
        作为栈，队列，有限集合，消息队列使用

    5.0版本的redis的list结构只采用quickList一种实现方式

set:集合
    作用
        可以用于去重，随机抽取数据，取两个数据的交集和并集和差集

    实现方式
        intset
            当集合中的值都是整数且数目较少的时候，使用整数集合来实现
            当向集合中加入非整数时，会转换为dict的实现方式，并且这个转换是非可逆的

        dict
            当即和中的值存在非整数的时候，使用字典来实现，字典的key存储数据，字典的value为null



hash:哈希
    作用
        存储对象，一个属性为一对field-value

    实现方式
        ziplist
            当数据较少时，使用ziplist实现hash。ziplist中先保存key再保存value，一对一对的追加进去。

        dict
            当数据量变大时，使用dict实现hash。每个键值对都用dict中的key-value来存储。


    hash-max-ziplist-entries和hash-max-ziplist-value两个参数来控制ziplist到dict的转换
    ziplist到dict的转换是不可逆的。
    尽可能用ziplist来做hash底层实现。ziplist长度尽量控制在1000以内，否则由于存取操作复杂度会导致CPU消耗严重。

zset:有序集合
    实现方式
        压缩列表
        跳表

    有序集合实现方式的优化
        当数据量较少时，使用zipList实现，节省内存，但查询只能顺序查询，适合数据量少的场景
        当数据量多的时候，使用zset实现
        zset-max-ziplist-entries 128，zset-max-ziplist-value 64 这两个参数可以配置使用zipList的情况

    zset
        组成：dict字典，skipList跳表
        dict用于保存数据到分数的对应关系，skipList用于根据分数查询数据

    redis为何使用跳表而不用平衡树实现有序集合
        内容占用小
        性能基本差不多
        跳表实现简单


