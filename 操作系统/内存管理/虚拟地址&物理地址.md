作用
    为了让不同的应用程序高效安全地共同使用物理内存，操作系统在应用程序和物理内存之间抽象出的一个概念。
    程序面向虚拟地址编写，在运行时使用虚拟内存地址
    CPU负责将虚拟内存地址翻译成物理内存地址
    操作系统负责设置虚拟内存地址和物理内存地址之间的映射

目标
    高效
        时间：使用虚拟内存不能在程序运行期间造成明显性能问题
        空间：

    安全
        使不同应用程序相互隔离

    透明
        对程序编写不产生影响


虚拟地址&物理地址
    问题
        什么是物理地址？什么是虚拟地址？
        什么是地址翻译？
        地址翻译主要的机制有哪些？

    物理地址
    虚拟地址
    地址翻译
        MMU （memory manager unit内存管理单元）
            作用
                负责做虚拟地址到物理地址的翻译。CPU给MMU发出内存地址（虚拟地址）的读写指令，MMU把虚拟地址翻译成物理地址发送到总线，物理内存读取总线指令，发送到CPU

            TLB （translation lookaside buffer转址旁路缓存）
                作用
                    MMU内部单元，负责加速地址转换过程




    分段&分页
        分段
            应用程序的虚拟地址由不同的段组成，如代码段，数据段。在分段机制下，操作系统以段的形式管理物理内存。
            分段机制的虚拟地址分为段号和段内地址两个部分，段表有段号，起始地址，长度字段。
                当CPU访问虚拟地址空间的某一个段的时候，MMU通过段号查询段表得到段对应的物理地址，根据起始地址和段内地址计算真实地址，根据长度判断是否超出合法范围。

            在分段机制中，物理内存以段为单位进行管理，段内地址是连续的，不同段的地址可以不相邻，这种分配方式容易在段与段之间出现外部碎片，造成内存资源利用率降低。

        分页
            分页机制中，会将程序的虚拟地址空间划分为连续的，等长的虚拟页。物理内存也划分为连续的，等长的物理页。虚拟页和物理页固定且相等，操作系统可以为程序构造出虚拟页和物理页的映射关系，即页表
            分页机制的虚拟地址分为虚拟页号和页内偏移量两个部分，页表存有虚拟页号和物理页号两个字段
                CPU读取一个地址中的数据，MMU从页表基地址寄存器中拿到应用程序对应的页表的起始地址，根据虚拟地址中的虚拟页号从页表中获取到物理页号，根据物理页号计算出物理页的起始地址，再加上虚拟地址中的页内偏移量得到最终物理地址

            分页机制中，分配的虚拟内存页和物理内存页长度固定且相等，可以实现内存的离散分配并且便于管理（方便构造页表），也避免了分段机制中外部碎片的问题。



