问题
    进程都有哪些状态?为什么要定义这些状态?
        5个状态

    迸程的虚拟地址空间是怎样的结构?
    进程是如何进行上下丈切换的?
        将程序A上下文保存至其PCB，将程序B上下文从其PCB中恢复


进程状态
    新生（new）
        进程刚刚被创建，还未完成初始化，不能被调度。完成初始化后进入预备状态

    预备（ready）
        进程可以被调度，但未被调度器选择，分配CPU资源。

    运行（running）
        进程被分配CPU资源，正在运行，执行完时间片后重新进入调度队列，转为预备状态。如果执行过程中需要等待外部事件，就自动放弃CPU资源转为阻塞状态。

    阻塞（blocked）
        集成需要等待外部事件完成，外部事件完成后转为预备状态。

    终止（terminated）
        进程完成了执行，不会再被调度。

    状态流转图
        ![]()

进程的内存空间布局
    用户栈
        栈保存进程需要使用的临时数据（如临时变量的值）。栈是可伸缩的，栈底在高地址，栈顶在低地址，向下生长。

    代码库
        进程运行过程中需要依赖共享的代码库（如libc），代码库会被映射到栈下方，权限为只读。

    用户堆
        堆管理进程动态分配的内存，堆顶在高地址，向上生长。

    数据段
        数据段主要保存全局变量的值，在堆下方，原本保存在二进制文件中，在进程执行前操作系统将其载入。

    代码段
        代码段保存进程执行所需的代码。在数据段下方，原本保存在二进制文件中，在进程执行前操作系统将其载入。

    内核
        处于虚拟内存最顶端，每个进程的虚拟内存中映射相同的内核内存地址。进程在用户态时，内核内存对程序不可见，进程陷入内核态后才能访问内核内存，并且内核内存部分也是有自己的代码段和数据段的，当程序陷入内核态的时候，就会使用内核的栈。


进程控制块（Process Control Block，PCB）
    进程控制块保存进程状态的数据结构。内核会通过进程控制块来保存进程的相关状态，比如进程标识符、进程状态、虚拟内存状态、打开的文件、上下文等。linux中该结构体为task_struct

进程组
    linux中可以通过fork创建子进程，父子进程属于一个进程组，子进程可以通过调用setpg1d创建—个新的进程组或者移入已有的进程组。

会话
    会话是进程组的集合，由一个或多个进程组构成。会话根据执行状态把进程组分为前台进程组和后台进程组，控制终端进程是会话与外界交互的窗口，负责接受用户发来的数据。当启动一个终端时，这个终端就对应一个会话。当在终端输入ctrl+c时，终端进程会收到一个SIGINT信号，并将其发送给前台进程组让前台进程组退出，后台进程组会继续执行。终端创建的进程，同属于一个会话。

