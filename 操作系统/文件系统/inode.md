问题
    基于inode的文件系统如何保存常规文件、目录文件和其他类型的文件？
        常规文件存储数据。目录文件存储目录项，目录项映射用户名和inode号

    对每种类型的文件有哪些操作？如何实现这些操作？
    基于inode的文件系统如何规划使用存储空间？
        超级块区域，块和inode分配信息区域，inde表区域

    什么是硬盘格式化？为什么格式化后硬盘的空间减少了？

inode
    inode是用来管理文件所在的磁盘块的一种结构和组织方式，是index node的缩写，除了管理文件所使用的块号，还会记录一些文件相关的元数据，如模式、链接数、拥有者和用户组、大小、访问时间等。
    结构设计
        简单直接顺序存储
            将文件所有的块号按顺序保存在inode中，但会导致文件大小改变时需要维护inode，inode大小随着文件大小的改变而改变。pass

        预留足够大的顺序存储空间
            假设支持的文件最大大小是4G，一个块号8B，一个块大小是4K，那存储4G的文件，光是inode节点就需要预留8M空间，对于小文件来说，太浪费了。pass

        随机存储
            链表，把inode链起来，查询中间块要遍历，pass
            做多级索引，类似于B+树，块分为索引块和数据块，数据块是真正存储数据的，索引块可以指向数据块或者索引块


    块号
        标记存储介质的唯一一个存储块

    存储块
        512B或4KB


文件名
    文件名存储在目录文件中。

目录
    目录是一种特殊类型文件类型，记录了文件名和inode的映射关系。目录中保存的是一种特殊的结构，叫做目录项，一个inode块存储一个或多个目录项，包括文件名，文件名指向的inode号，目录项长度，文件名长度等。

目录项
    目录项存储的是文件的信息，如文件名和inode的映射关系。.和..是两个特殊的目录项，每个目录文件中都存在，根目录中这两个目录项指向的是根目录本身。

目录的操作
    通过目录类型文件的一些操作，我们可以管理目录项
    增加
        创建文件时，向对应的目录文件中加入一个目录项。

    删除
        删除文件时，从对应的目录文件中删除对应的目录项。目录项中的inode号为0，就表示这个目录项被删除了。不对啊，那inode号也不是磁盘块号，inode号存在哪啊

    查找
        通过一个文件名，查找到文件所在的目录。其实就是从根目录开始，遍历一整颗inode树。

    遍历
        跟查找类似，依次拿目录文件的有效目录项返回。


硬链接
    建立一个文件的硬连接，就是找到这个文件父目录中对应的目录项，拿到文件的inode，然后在要建立硬连接的目录中加一个指向这个inode的新目录项。在删除文件时，只有文件所有的硬连接都被删除了，这个文件才算被删除，既然要等所有的硬连接都删除，那肯定要有个地方记录一下硬连接数，存在inode中，当这个数为0的时候就彻底删除。

符号链接
    符号链接文件是把一个字符串保存在inode中，用来表示一个路径，这个路径对应的文件就是目标文件。通过把这个路径拆分，一个一个去解析，每解析一个需要判断当前文件是不是一个符号链接，如果是符号链接要先跟随符号链接中的路径找到目标文件，然后再继续解析愿路径的剩余部分。

物理存储结构
    简单结构
        简单结构可以分为几个区域，超级块，块分配信息和inode分配信息，inode表，数据块。


