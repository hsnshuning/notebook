问题
    当多个线程同时修改共享数据时，是否会发生错误？
    我们该提供什么同步原语以避免这一类错误的产生？
    如何正确地实现互斥锁？

硬件实现
    通过关闭中断的方式，在进入临界区之前关闭中断，不允许其他任务抢占调度，在离开临界区时再开启中断。
    关闭中断的方式不适合多核环境。

皮特森算法
    flag数组
        布尔数组，标识进程是否申请进入临界区

    turn
        如果都申请进入临界区，turn决定谁能进入临界区

    以线程0为例，执行时先将对应的flag置为true，turn让给线程1
    线程0想要运行，需要满足flag[1]为false或flag[1]为true并且turn=0，即线程1没有申请进入临界区，或者线程1申请进入临界区，但是turn决定让线程0 执行。
    执行完临界区代码后将自己的flag设置为false

自旋锁
    自旋锁利用一个值来标识锁的状态，为1表示已经有人拿到锁了，为0表示锁是空闲的，通过CAS不断的去判断锁是否空闲，如果空闲就抢锁

排号自旋锁
    通过FFA来增加锁的数字并拿到最新的数字，循环判断是否等于自己拿到的数字，如果拿到的话就是抢到锁了。

